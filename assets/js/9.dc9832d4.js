(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{351:function(t,a,e){t.exports=e.p+"assets/img/mkcert-notification-message.fd4ecc80.jpeg"},352:function(t,a,e){t.exports=e.p+"assets/img/mamp-apply-ssl-to-protected-website.139040b0.png"},374:function(t,a,e){"use strict";e.r(a);var s=e(41),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"配置-mkcert"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-mkcert"}},[t._v("#")]),t._v(" 配置 mkcert")]),t._v(" "),s("h3",{attrs:{id:"初始化配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化配置"}},[t._v("#")]),t._v(" 初始化配置")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mkcert -install\n")])])]),s("h3",{attrs:{id:"创建统一存放目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建统一存放目录"}},[t._v("#")]),t._v(" 创建统一存放目录")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mkdir -p ~/.certs/ # 创建对应存放目录\n\nls -l ~/.certs # 查看目录是否存在\n")])])]),s("h3",{attrs:{id:"生成证书"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成证书"}},[t._v("#")]),t._v(" 生成证书")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('export ssl_path=~/.certs\nexport domain=example.test\n\nmkdir -p ${ssl_path}/${domain} # 创建证书对应目录\n\nmkcert -key-file ${ssl_path}/${domain}/privkey.pem \\\n       -cert-file ${ssl_path}/${domain}/fullchain.pem \\\n       "www.${domain}" "m.${domain}" "${domain}" "*.${domain}" "localhost"\n\n# ls -l `echo ${ssl_path}/${domain}` # 查看证书文件\n# ls -ld `echo ${ssl_path}/${domain}` # 证书所在路径\n')])])]),s("blockquote",[s("p",[t._v("在执行上面命令的时候，"),s("code",[t._v("ssl_path")]),t._v("可以选择合适的证书存放的路径，"),s("code",[t._v("domain")]),t._v(" 根据实际情况定义，"),s("strong",[t._v("可以根据实际情况后期增减重新执行命令生成")]),t._v("。")])]),t._v(" "),s("p",[t._v("下图是执行成功的一些信息。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(351),alt:"mkcert notification message"}})]),t._v(" "),s("h3",{attrs:{id:"nginx配置ssl证书"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nginx配置ssl证书"}},[t._v("#")]),t._v(" Nginx配置SSL证书")]),t._v(" "),s("p",[t._v("以MAMP客户端为例。")]),t._v(" "),s("ol",[s("li",[t._v("选择要加密的主机")]),t._v(" "),s("li",[t._v("选择SSL选项")]),t._v(" "),s("li",[t._v("打开SSL选项")]),t._v(" "),s("li",[t._v("点击文件夹选择刚刚申请的证书文件，注意一般是"),s("code",[t._v("fullchain.pem")])]),t._v(" "),s("li",[t._v("点击文件夹选择刚刚申请的密钥文件，注意一般是"),s("code",[t._v("privkey.pem")])]),t._v(" "),s("li",[t._v("可选操作，是否强制"),s("code",[t._v("http")]),t._v("跳转到"),s("code",[t._v("https")]),t._v("访问")]),t._v(" "),s("li",[t._v("点击保存，并重启服务")]),t._v(" "),s("li",[t._v("如果配置成功一般在列表处会有一把锁")])]),t._v(" "),s("p",[s("img",{attrs:{src:e(352),alt:"mkcert notification message"}})]),t._v(" "),s("h3",{attrs:{id:"在laravel-mix项目中使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在laravel-mix项目中使用"}},[t._v("#")]),t._v(" 在"),s("code",[t._v("laravel-mix")]),t._v("项目中使用")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('mix.browserSync({\n    proxy: "https://www.example.com",\n    https: {\n        key: "~/.certs/example.com/privkey.pem",\n        cert: "~/.certs/example.com/fullchain.pem"\n    }\n});\n')])])]),s("blockquote",[s("p",[t._v("配置之前需要保证"),s("code",[t._v("https://example.com")]),t._v("能正常访问。")]),t._v(" "),s("p",[s("code",[t._v("key")]),t._v(" 和 "),s("code",[t._v("cert")]),t._v(" 的配置跟当前生成证书时指定的文件保持一致。")])])])}),[],!1,null,null,null);a.default=r.exports}}]);