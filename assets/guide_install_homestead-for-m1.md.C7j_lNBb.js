import{_ as s,c as i,o as t,ae as e}from"./chunks/framework.DPmbuUrd.js";const l="/setup-mac-for-developer/assets/show-mac-os-version.BCu1KzM5.png",n="/setup-mac-for-developer/assets/vagrant-version.CTmekglE.png",p="/setup-mac-for-developer/assets/download-parallels.rRXv4auH.png",h="/setup-mac-for-developer/assets/vagrant-box-add-homestead-arm.5C9SaxZm.png",r="/setup-mac-for-developer/assets/vagrant-box-list-boxes.BkSPjrD6.png",o="/setup-mac-for-developer/assets/homestead-preview.DgQzvKXW.png",d="/setup-mac-for-developer/assets/uninstall-homestead.C8Y2dC_I.png",v=JSON.parse('{"title":"Homestead for M1","description":"","frontmatter":{},"headers":[],"relativePath":"guide/install/homestead-for-m1.md","filePath":"guide/install/homestead-for-m1.md","lastUpdated":1718265651000}'),k={name:"guide/install/homestead-for-m1.md"};function c(g,a,m,u,b,F){return t(),i("div",null,a[0]||(a[0]=[e('<h1 id="homestead-for-m1" tabindex="-1">Homestead for M1 <a class="header-anchor" href="#homestead-for-m1" aria-label="Permalink to &quot;Homestead for M1&quot;">​</a></h1><p><a href="https://laravel.com/docs/homestead" target="_blank" rel="noreferrer">Homestead</a> 提供了一个统一的 Laravel 开发环境，而无需在本地机器上安装 PHP、Web 服务器和任何其他服务器软件。</p><h2 id="前置准备" tabindex="-1">前置准备 <a class="header-anchor" href="#前置准备" aria-label="Permalink to &quot;前置准备&quot;">​</a></h2><p>环境要求：</p><ul><li><code>Apple M1</code> 系统</li><li>系统版本大于或等于 <code>macOS Monterey 12</code><img src="'+l+'" alt=""><blockquote><p>在电脑顶部主菜单的黑苹果图标处点击下拉菜单找到 &quot;关于本机&quot; 处找到当前电脑的系统概览</p></blockquote></li></ul><h2 id="软件安装" tabindex="-1">软件安装 <a class="header-anchor" href="#软件安装" aria-label="Permalink to &quot;软件安装&quot;">​</a></h2><h3 id="parallels-desktop-18-for-mac" tabindex="-1">Parallels Desktop 18 for Mac <a class="header-anchor" href="#parallels-desktop-18-for-mac" aria-label="Permalink to &quot;Parallels Desktop 18 for Mac&quot;">​</a></h3><p>在 <a href="https://www.parallels.com/products/desktop/trial/" target="_blank" rel="noreferrer">Parallels Desktop 18 for Mac 官方地址</a>下载并安装到 Mac 电脑，软件默认有 14 天的试用期。</p><h3 id="vagrant" tabindex="-1">Vagrant <a class="header-anchor" href="#vagrant" aria-label="Permalink to &quot;Vagrant&quot;">​</a></h3><p>在 <a href="https://www.vagrantup.com/downloads" target="_blank" rel="noreferrer">Vagrant 官方地址</a> 下载 <code>vagrant</code> 并安装到本地，软件开源免费。</p><p>通过下面的方式验证是否正常：</p><p><img src="'+n+`" alt="Show vagrant version"></p><h3 id="homestead" tabindex="-1">Homestead <a class="header-anchor" href="#homestead" aria-label="Permalink to &quot;Homestead&quot;">​</a></h3><ul><li><p>下载 <a href="https://github.com/laravel/homestead.git" target="_blank" rel="noreferrer">Homestead</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Homestead 源码下载到本地的 \`~/Homestead\` 可以根据需要修改存放位置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HOMESTEAD_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">~/Homestead</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/laravel/homestead.git</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $HOMESTEAD_PATH </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $HOMESTEAD_PATH</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> checkout</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init.sh</span></span></code></pre></div></li><li><p>配置 Homestead</p><ul><li><p>安装 <code>vagrant-parallels</code> 插件 Vagrant支持 <a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noreferrer">VirtualBox</a> 和 <a href="https://www.parallels.com/products/desktop/" target="_blank" rel="noreferrer">Parallels</a></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vagrant</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vagrant-parallels</span></span></code></pre></div><blockquote><p>由于这里选择的是 Parallels 方案，所以将需要安装 <a href="https://github.com/Parallels/vagrant-parallels" target="_blank" rel="noreferrer">Parallels Vagrant</a> 插件，这个插件是免费的。</p></blockquote></li><li><p>修改 <code>Homestead.yaml</code> 文件中分别配置：</p><ul><li><p><code>provider: parallels</code></p></li><li><p><code>box: laravel/homestead-arm</code></p></li><li><p><code>version: 13.0.0</code>：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;192.168.56.56&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">memory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2048</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">cpus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line highlighted"><wbr></span>
<span class="line highlighted"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">provider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">parallels</span></span>
<span class="line highlighted"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">box</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">laravel/homestead-arm</span></span>
<span class="line highlighted"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13.0.0</span></span></code></pre></div></li></ul></li></ul><blockquote><p>更多Homestead 配置请看 <a href="https://laravel.com/docs/9.x/homestead#configuring-homestead" target="_blank" rel="noreferrer">查看文档</a>。</p></blockquote></li><li><p>下载并安装 <a href="https://app.vagrantup.com/laravel/boxes/homestead-arm" target="_blank" rel="noreferrer">laravel/homestead-arm</a></p><blockquote><p>这里通过将box下载到本地的方式，在通过路径指定box的形式进行安装，能增加成功率。</p></blockquote><ul><li><p>下载当前最新版本的Box, <a href="https://app.vagrantup.com/laravel/boxes/homestead-arm/versions/13.0.0" target="_blank" rel="noreferrer">v13.0.0</a></p><p><img src="`+p+`" alt=""></p><blockquote><p>假如下载到本地 <code>~/Downloads</code> 目录下，并将下载后命名为 <code>parallels-homestead-arm.box</code></p></blockquote></li><li><p>使用 <code>vagrant box add</code> 添加到 Vagrant</p></li><li><p>编写文件 <code>metadata.json</code> 内容如下：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;laravel/homestead-arm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;versions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;13.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;providers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:[{</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;parallels&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;~/Downloads/parallels-homestead-arm.box&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   }]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><ul><li><p>执行命令 <code>vagrant box add metadata.json</code></p><p><img src="`+h+'" alt=""></p><blockquote><p>镜像文件被添加到 <code>~/.vagrant.d/boxes</code> 目录下</p></blockquote></li><li><p>执行命令查看是否正常添加</p></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vagrant</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> box</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span></span></code></pre></div><p><img src="'+r+`" alt=""></p></li></ul></li></ul><h2 id="启动" tabindex="-1">启动 <a class="header-anchor" href="#启动" aria-label="Permalink to &quot;启动&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vagrant</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vagrant</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> homestead</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 指定名称</span></span></code></pre></div><p>使用上面的命令可以启动 vagrant，并在 Parallels Desktop 中看到 Homestead 的镜像，如下图所示：</p><p><img src="`+o+`" alt=""></p><h2 id="连接-homestead-虚拟机" tabindex="-1">连接 Homestead 虚拟机 <a class="header-anchor" href="#连接-homestead-虚拟机" aria-label="Permalink to &quot;连接 Homestead 虚拟机&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vagrant</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vagrant@192.168.56.56</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 使用ssh方式登录</span></span></code></pre></div><h2 id="卸载" tabindex="-1">卸载 <a class="header-anchor" href="#卸载" aria-label="Permalink to &quot;卸载&quot;">​</a></h2><ul><li>卸载 Homestead 虚拟机</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vagrant</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> destroy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> homestead</span></span></code></pre></div><ul><li>删除 Box</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vagrant</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> box</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> laravel/homestead-arm</span></span></code></pre></div><p><img src="`+d+'" alt=""></p><p>再依次卸载 <code>Vagrant</code> 和 <code>Palallels Desktop 18 for Mac</code> 即可。</p><h2 id="vagrant常用命令" tabindex="-1">Vagrant常用命令 <a class="header-anchor" href="#vagrant常用命令" aria-label="Permalink to &quot;Vagrant常用命令&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>简单说明</th></tr></thead><tbody><tr><td><code>vagrant init [options] [name [url]]</code></td><td>初始化box的操作</td></tr><tr><td><code>vagrant up [options] [name or id]</code></td><td>启动虚拟机的操作</td></tr><tr><td><code>vagrant ssh [options] [name or id] [-- extra ssh args]</code></td><td>登录虚拟机的操作</td></tr><tr><td><code>vagrant box add [options] &lt;name, url, or path&gt;</code></td><td>添加box的操作</td></tr><tr><td><code>vagrant box remove &lt;name&gt;</code></td><td>删除某个box</td></tr><tr><td><code>vagrant box list</code></td><td>查看box列表</td></tr><tr><td><code>vagrant box remove</code></td><td>删除相应的box</td></tr><tr><td><code>vagrant destroy [options] [name or id]</code></td><td>停止当前正在运行的虚拟机并销毁所有创建的资源</td></tr><tr><td><code>vagrant halt [options] [name or id]</code></td><td>关闭虚拟机</td></tr><tr><td><code>vagrant package [options] [name or id]</code></td><td>打包命令，可以把当前的运行的虚拟机环境进行打包</td></tr><tr><td><code>vagrant reload [vm-name]</code></td><td>重新启动虚拟机，主要用于重新载入配置文件</td></tr><tr><td><code>vagrant suspend [name or id]</code></td><td>挂起当前虚拟机</td></tr><tr><td><code>vagrant resume [vm-name]</code></td><td>恢复被挂起的状态</td></tr><tr><td><code>vagrant ssh-config [options] [name or id]</code></td><td>输出用于ssh连接的一些信息</td></tr><tr><td><code>vagrant status [name or id]</code></td><td>获取当前虚拟机的状态</td></tr></tbody></table>',29)]))}const y=s(k,[["render",c]]);export{v as __pageData,y as default};
